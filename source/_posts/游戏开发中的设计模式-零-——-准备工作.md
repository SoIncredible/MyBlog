---
title: 游戏开发中的设计模式(零) —— 准备工作
abbrlink: eb0ca922
date: 2024-09-13 00:38:54
tags:
categories:
cover: https://www.notion.so/images/page-cover/met_vincent_van_gogh_oleanders.jpg
description:
swiper_index:
sticky:
---

# 场景搭建


![](游戏开发中的设计模式-零-——-准备工作/image22.png)

在开始进入正题之前，需要先搭建一个可以供角色站立、移动、跳跃并且还有边界的测试场景。笔者希望搭建的场景要遵循一些规范：
1. 统一所有模型资源的单位长度，极特殊情况，所有模型的缩放都设置为1
2. 将场景中的地形预制体化，比如墙、地面、台阶等
3. ...

下面说一个可以提高我们搭建场景效率的工具：在Unity的Scene窗口中，点击下图位置的图标可以设置物体移动的固定步长。[参考文章在这](https://jingyan.baidu.com/article/1612d500968440e20e1eeebd.html)，按住`Control/Command`键拖拽Scene中选中物体的Object坐标系的坐标轴，就可以以固定的步长移动物体了。按住`V`键拖拽坐标轴就可以让选中物体的选中顶点吸附到另一个场景中的物体上。

![](游戏开发中的设计模式-零-——-准备工作/image.png)

## 创建地形

Unity中自带的用来表示平面的物体是`Plane`模型，用来表示墙面的物体是`Quad`模型，在场景中创建Plane模型，查看这个模型的详细信息，你会发现这个模型的尺寸是10x10的(此处不考虑模型的厚度)，也就是长宽各为10个单位长度；而Quad模型则是1x1的，长宽个1个单位长度。为了让地形看起来不那么单调，我们使用Unity内置的一张贴图来装饰我们的地形，我们会为Plane和Quad各自生成一个材质，这两个材质的区别只有上面的Tilling参数，一个设置成10，而另一个设置为1。这样的设置主要和这两种模型的尺寸有关系。然后将材质分别赋给这两个模型。好了，这样我们就有搭建场景的预制地形了。



- 讲清楚 模型的面片和材质上Tilling的对应关系 注意场景搭建的规范 所有的模型都适用1:1的大小标准


# 创建角色移动脚本

## 基本思想

原理，按照我们的预想，镜头朝向的方向一直都是前方，
问题的关键是如何定义前方——摄像机朝向forward的方向为前方。
https://blog.csdn.net/kaluluosi111/article/details/17206655?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-17206655-blog-78846299.235%5Ev43%5Econtrol&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-17206655-blog-78846299.235%5Ev43%5Econtrol&utm_relevant_index=5 这篇博客讲的不错

当transform.translate(vector3.forward*time.deltatime);//物体会沿着本物体Z轴的方向移动，就算本物体旋转了一定角度之后也是沿着Scene面板中的z轴方向移动。

而transform.translate(transform.forward*time.deltatime);//当物体不旋转的时候会沿着scene面板中的z轴移动，当物体旋转一点角度后物体就不再沿着scene面板中的z轴移动了。

为什么？

因为vector3.forward才是真正的本物体的z轴（永远）


而transform.forward则类似于是在本物体下新建一个空物体,这个空物体是本物体的子级，而transform.forward是这个空物体的本地坐标Z轴。当父级旋转30°，则这个空物体实际上相对于世界坐标轴旋转了30°+30°(子级的local本来就是以父级为世界中心的，父级旋转30°相当于子级的相对于父级的世界旋转了30°，所以子级旋转了60°)、

//简单理解就是：使用translate的时候用vector3.forward，若使用transform.forward则若自己旋转B°，则自己会朝着2*B°的方向移动

所以说transform.forward是一个世界空间坐标系下的概念。
验证：
物体A是物体B的父亲，转动物体A A 、 B的forward同时同步同等发生变化，只转动物体B，不影响物体A的forward 再转动物体A A、B的forward又同时同步发生变化，但是这时候AB的forward就不相等了。

## Quaternion接口相关

- Slerp
- LookRotation

## RigidBody接口相关

- MoveRotation
- MovePosition

## 角色移动

## 角色转动



