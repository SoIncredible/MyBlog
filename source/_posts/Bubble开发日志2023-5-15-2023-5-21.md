---
title: Bubble开发日志2023.5.15-2023.5.21
abbrlink: a46574e1
date: 2023-05-12 11:57:36
tags:
categories:
cover:
description:
swiper_index:
sticky:
---

# 要点

- 简单拼接一个界面

  根节点是`xxUI`，然后是`Content`，Content节点上的RectTransform的stretch属性是怎么样的？是固定的么？如果不是固定的那stretch设置的原则是怎样的？
  
- 自己创建一个界面



# 前言

这是我实习以第一次独立负责整个页面的表现部分的开发，整个过程中踩过很多坑，也有很多小设计，是十分值得记录的一次开发日志。

# 拼接一个简单的界面

在开发中经常会有这种情况：程序这边只有一个需求，比如开发一个页面，该需求需要美术的支持，而美术除了要支持程序，还有自己单独的三个需求。如果美术经过评估后认为，支援程序的需求优先级低于美术单独的需求，那么美术将会优先完成自己单独部分的需求，而延后支援程序。如果程序无所作为，只是干等着美术的话，会导致开发效率极其低下，因此，程序具备拼界面的能力，即设计界面的能力是很有必要的。在实际开发中，拼界面的职责分工并不是那么明确，一般美术和程序谁的任务少谁来负责就可以了，因为开发的最终阶段美术和程序会联调开发，所以无论是谁做了拼接界面的前置工作，另一方都能在联调的阶段同步到拼接界面的具体信息，不必担心信息缺失的问题。在整个过程中，程序要与美术及时地沟通，这样一能同步进度，二能避免做不熟练、无用的工作，从专业角度上讲，设计界面本身是美术的专长，如果美术提前完成了任务，他们就能够从程序手中接过设计界面的任务从而让程序专注于开发，同时也避免了程序在设计界面时因不熟练会犯的各种错误。专门的事情交给专门的人来做效率肯定会更高。

那么我已经和美术互相确认了排期，很显然我的工作少一点，所以我将会负责界面的拼接工作。

按照我个人的习惯是喜欢先把界面拼出来再进行代码开发，于是本文将先记录拼界面的过程。

## UI组件拆解

在开始真正拆解UI组成之前，我想先介绍一下在Unity中Hierarchy中物体的组织关系的本质，

在设计UI的时候我们经常会用到Panel的概念， 一个UI上面可能会有很多Panel，一个用户体验良好的界面往往都会有标题、显示主题区域、按钮等等部分组成，我们作为UI的设计者为了将这些区域区分开往往就会给每个模块添加一个底板，来凸显模块和模块之间的独立关系。这是很合理的设计，它让我们UI的层级结构更加合理，下面拼接界面的过程我们将会尝试运用Panel的模块概念，将整个界面合理规整拆解。

我们知道，Unity中的Hierarchy窗口中每一个游戏物体都可以被称为节点`node`，我们可以在每个节点上面挂在各种组件。上一段中提到了Panel。我们会将Panel作为每一个模块的根节点，有的Panel需要一个背景板，我们就会在该Panel上添加Image组件来充当整个Panel的背景板。如果不需要背景板那么就不会给这个Panel添加Image组件。

那么下面我们就按照上面的拆解思路，分析一下单相册页面中基本的节点构成：

单相册界面Panel：

- 界面的标题Panel
  - 标题文本

- 关闭按钮Panel
  - 关闭按钮

- 顶部进度条部分Panel ： 不需要背景
  - 左侧 照片     ：不要背景
    - 照片                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  - 中间进度条Panel
    - 进度槽
    - 进度条
    - 进度条数字 10/30

  - 右侧奖励 Panel 不需要背景
    - 奖励内容
    - 奖励数量

- Item展示Panel

  - 单个Item Panel ： 边框 分为普通跟稀有 + button组件
    - ItemName
    - ItemImage
    - RedDot
    - ItemCount
    - LockedCover
    - Riddle

- 放大展示Item Panel ： Image是黑遮罩

  - Item展示Panel中单个Item的复制


## 实际拼接

1. 拼接一个界面的跟节点的组件很重要

   RayCastTarget

1. 进度条美术资源的实现


# 编写驱动表现的脚本

首先创建脚本，要遵循规范，将相同功能的脚本放在同一个文件夹下，并且要放在同一个namespace下，今天跟浩天学到了一个小TIPS，在Rider中相应的文件夹下创建脚本，Rider会自动给该脚本添加对应的命名空间。

基本方案：

我们会创建一个名为SingleAlbumDlgPage的脚本，它将会和单相册界面这个UI紧密绑定，并且负责处理该界面中的数据驱动表现的部分。

# 编写Debug工具

因为现在我的单相册界面需要依托于相册的主界面存在，而相册主界面还没开始开发，所以目前只能使用Debug工具对单相册界面进行调试。



- 获取新的照片
- 测试获取多个照片时候的效果
- 

