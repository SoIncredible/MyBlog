---
title: 蓝桥杯Basic-30 阶乘计算
tags: 蓝桥杯
abbrlink: f95d968
categories: 算法
date: 2022-06-27 00:00:00
---

**资源限制**

时间限制1.0s 内存限制512.0MB



----

**问题描述**

 输入一个正整数*n*，输出*n*!的值。  
 其中*n*!=1*2*3*…**n*。

<!-- more -->

----

**算法描述**

*n*!可能很大，而计算机能表示的整数范围有限，需要使用高精度计算的方法。使用一个数组*A*来表示一个大整数*a*，*A*[0]表示*a*的个位，*A*[1]表示*a*的十位，依次类推。  
 将*a*乘以一个整数*k*变为将数组*A*的每一个元素都乘以*k*，请注意处理相应的进位。  
 首先将*a*设为1，然后乘2，乘3，当乘到*n*时，即得到了*n*!的值。

---



**输入格式**

 输入包含一个正整数*n*，*n*<=1000。



---

**输出格式**

输出*n*!的准确值。



---



**样例输入**

10



---



**样例输出**

3628800



---





**代码**

```cpp
    #include <iostream>
#include <vector>

using namespace std;
int main() {

    int a = 1; //用来表示最一开始的一个数
    vector<int> A;
    int n; //保存阶乘的数

    A.push_back(a); //把最开始的数先加到数组中去
    cin >> n;
    int i = 1;
    int j;
    int add = 0; //add保存进位的数
    while(i <= n){ //外层循环表示阶乘
        j = 0 ;
        while(j < A.size()){ //内层循环用来计算这个数的每一位与 i 相乘
            A[j] *= i;
            A[j] += add; 
            if(A[j]/10 != 0){ //说明发生了进位
                add = A[j]/10;
                A[j] -=  add * 10;
                if(j == A.size() - 1){
                    while(add != 0){ 
                    //这是我第一个疏忽的地方，我以为进位只会进一位，比如 7 * 4
                    //虽然数组A中的每个元素一定是个位，但是随着n的越来越大，后面那个数
                    //是会越来越大的 7 * 50 就是350了，连进两位，所以这里要写一个循环
                    //进几位就添加几个数组元素
                        A.push_back(add - (add/10)*10);
                        add /= 10;
                    }
                    break;
                    //这里的break要写，因为j已经等于数组的长度了，如果不写的话。
                    //那么再下次循环的时候，数组的长度就是已经添加完元素的长度了。                
                }
            }else add = 0; //这个地方很容易疏忽，因为兴高采烈地想到了进位的各种情况
            //反而忽视了没有进位的情况        
            j++;
        }
        i++;
    }
    i = A.size() - 1;
    while(i >= 0)
    {
        cout << A[i];
        i --; //还有这种地方，写for循环写习惯了，总是会忘记这里需要手动变更i的值
    }
    cout << endl;

    return 0;
}

```





**总结**

我把我自己在写代码的过程中疏忽的地方都标注在了代码中。

基础题都比较简单，但是也废了我不少心思，而且我的时间也只允许我刷完这基础的三十题了，感觉这三百块钱要打水漂了（哭）。



